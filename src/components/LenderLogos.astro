---
const lenders = Array.from({ length: 10 }, (_, i) => ({
  id: i + 1,
  src: `/images/lenders/lender${i + 1}.svg`,
  width: 140,
  height: 25,
}));
---

<div class="lender-scroll" aria-label="Our lending partners">
  <div class="lender-track">
    {
      lenders.map((lender) => (
        <div class="lender-logo">
          <img
            src={lender.src}
            alt=""
            width={lender.width}
            height={lender.height}
            loading="lazy"
            decoding="async"
          />
        </div>
      ))
    }

    {/* Duplicate for infinite scroll effect */}
    {
      lenders.map((lender) => (
        <div class="lender-logo">
          <img
            src={lender.src}
            alt=""
            width={lender.width}
            height={lender.height}
            loading="lazy"
            decoding="async"
          />
        </div>
      ))
    }
  </div>
</div>

<style>
  .lender-scroll {
    position: relative;
    width: 100%;
    overflow: hidden;
    padding: 0.125rem 0;
  }

  .lender-track {
    display: flex;
    gap: 4rem;
    animation: scroll 30s linear infinite;
  }

  .lender-logo {
    flex: 0 0 140px;
    height: 25px;
    opacity: 0.4;
    transition: all 0.2s;
  }

  .lender-logo:hover {
    opacity: 0.8;
    transform: translateY(-2px);
  }

  @keyframes scroll {
    0% {
      transform: translateX(-100%);
    }
    100% {
      transform: translateX(0);
    }
  }
</style>
